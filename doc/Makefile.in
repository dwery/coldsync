# Makefile.in
# $Id: Makefile.in,v 1.8 1999-12-01 06:13:07 arensb Exp $

PACKAGE =	@PACKAGE@
VERSION =	@VERSION@

subdir =	doc
srcdir =	@srcdir@
top_srcdir =	@top_srcdir@
curdir =	${top_srcdir}/${subdir}
prefix =	@prefix@
MANDIR =	@mandir@
MAN8DIR =	${MANDIR}/man8

INSTALL =	@INSTALL@
INSTALLARGS =	-c -m 555

MAKEINFO =	@MAKEINFO@
TEXI2DVI =	@TEXI2DVI@
DVIPS =		@DVIPS@

DISTDIR =	${top_srcdir}/${PACKAGE}-${VERSION}

INFOFILES =	libpalm.info \
		pdb.info
DVIFILES =	libpalm.dvi \
		pdb.dvi
PSFILES =	libpalm.ps \
		pdb.ps

DISTFILES =	Makefile.in \
		libpalm.texi \
		pdb.texi \
		version.texi.in \
		texinfo.tex \
		coldsync.8
# Additional files to include in the official distribution, not included
# in snapshots
EXTRA_DISTFILES = \
		${INFOFILES} \
		${PSFILES}

CLEAN =		${INFOFILES} ${DVIFILES} ${PSFILES} \
		*.aux *.cp *.cps *.fn *.ky *.log *.pg *.toc *.tp *.ty *.vr \
		*.bak *~ errs errs.*
DISTCLEAN =	Makefile version.texi .depend
SPOTLESS =

.SUFFIXES:	.dvi .info .ps .texi

.texi.info:
	${MAKEINFO} $<

.texi.dvi:
	${TEXI2DVI} $<

.dvi.ps:
	${DVIPS} -o $@ $<

all:	${INFOFILES}
all-doc:	info dvi ps
info:	${INFOFILES}
dvi:	${DVIFILES}
ps:	${PSFILES}

depend:

install::	coldsync.8
	if test ! -d ${MANDIR}; then \
		mkdir ${MANDIR}; \
		chmod 755 ${MANDIR}; \
	fi
	if test ! -d ${MAN8DIR}; then \
		mkdir ${MAN8DIR}; \
		chmod 755 ${MAN8DIR}; \
	fi
	${INSTALL} ${INSTALLARGS} coldsync.8 ${MAN8DIR}

distdir-core:	${DISTFILES}
	if test ! -d ${DISTDIR}/${subdir}; then \
		mkdir ${DISTDIR}/${subdir}; \
	fi
	cp -p ${DISTFILES} ${DISTDIR}/${subdir}

distdir::	distdir-core

distdir::	${EXTRA_DISTFILES}
	cp -p ${EXTRA_DISTFILES} ${DISTDIR}/${subdir}

clean:
	-rm -f ${CLEAN}
distclean:
	-rm -f ${CLEAN} ${DISTCLEAN}
spotless:
	-rm -f ${CLEAN} ${DISTCLEAN} ${SPOTLESS}

# Dependencies. Maintained manually 'cos I don't know of any tools
# that'll do it for me.
libpalm.dvi:	texinfo.tex version.texi
pdb.dvi:	texinfo.tex version.texi

# Dummy placeholder
lint:
